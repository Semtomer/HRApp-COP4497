function CreateKuikaMfeApp(e){if(!e||!e.frontEndUrl){console.log('CreateKuikaMfeApp function parameter field format should be like "{ frontEndUrl: "https://localhost/virtualdirectory"}, { frontEndUrl: "https://localhost:port"}, "https://YourMicroFrontendApp.com"} etc.');return}(!0===e.frontEndUrl.endsWith("/")||!0===e.frontEndUrl.endsWith("\\"))&&(e.frontEndUrl=e.frontEndUrl.slice(0,-1)),e.frontEndUrl=e.frontEndUrl+"/";let t=e.frontEndUrl;fetch(t+"asset-manifest.json").then(e=>e.json()).then(n=>{AddDynamicKuikaStyleToHeader(),void 0===window.kuika&&(window.kuika={}),window.kuika?.apps===void 0&&(window.kuika.apps=[]);let r=!1;window.kuika?.apps.forEach(e=>{e?.appConfig?.frontEndUrl===t&&(r=!0,e.manifest=n)}),!1===r&&(window.kuika?.apps.push({appConfig:e,manifest:n}),MountApp(e,n))})}function MountApp(e,t){let n=e.frontEndUrl;t?.entryFiles?.index?.js?.forEach(e=>{AddScriptToHeader(n+e,!0)}),t?.entryFiles?.index?.css?.forEach(e=>{AddlinkToHeader(n+e,"stylesheet")}),t?.entryFiles?.index?.ico?.forEach(e=>{let t=n+e;AddlinkToHeader(t,"icon","image/png"),AddlinkToHeader(t,"apple-touch-icon")}),t?.entryFiles?.index?.url_3rd_js?.forEach(e=>{AddScriptToHeader(e)})}function AddScriptToHeader(e,t){let n=getScripts();var r=this.getFileNameFromSrc(e);if(!n.find(e=>e===r)||!0===t){let t=document.createElement("script");t.src=e,t.crossorigin="anonymous",t.referrerpolicy="no-referrer",t.charset="UTF-8",document.head.appendChild(t)}}function AddlinkToHeader(e,t,n,r){let i=getLinks();var o=this.getFileNameFromSrc(e);if(!i.find(e=>e===o)||!0===r){let r=document.createElement("link");n&&(r.type=n),r.rel=t,r.href=e,r.crossorigin="anonymous",document.head.appendChild(r)}}function AddDynamicKuikaStyleToHeader(){if(!document.getElementById("dynamic_style")){let e=document.createElement("style");e.id="dynamic_style",e.rel="stylesheet",document.head.appendChild(e)}}function getLinks(){let e=document.getElementsByTagName("link"),t=[];for(let r=0;r<e.length;r++){let i=e[r].getAttribute("src");if(i&&""!==i){var n=getFileNameFromSrc(i);t.push(n)}}return t}function getScripts(){let e=document.getElementsByTagName("script"),t=[];for(let r=0;r<e.length;r++){let i=e[r].getAttribute("src");if(i&&""!==i){var n=getFileNameFromSrc(i);t.push(n)}}return t}function getFileNameFromSrc(e){return e.substring(e.lastIndexOf("/")+1)}